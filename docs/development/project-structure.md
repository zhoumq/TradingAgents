# é¡¹ç›®ç»“æ„è§„èŒƒ

## ğŸ“ ç›®å½•ç»„ç»‡åŸåˆ™

TradingAgents-CN é¡¹ç›®éµå¾ªæ¸…æ™°çš„ç›®å½•ç»“æ„è§„èŒƒï¼Œç¡®ä¿ä»£ç ç»„ç»‡æœ‰åºã€æ˜“äºç»´æŠ¤ã€‚

## ğŸ—ï¸ é¡¹ç›®æ ¹ç›®å½•ç»“æ„

```
TradingAgentsCN/
â”œâ”€â”€ ğŸ“ tradingagents/          # æ ¸å¿ƒä»£ç åŒ…
â”œâ”€â”€ ğŸ“ web/                    # Webç•Œé¢ä»£ç 
â”œâ”€â”€ ğŸ“ docs/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“ tests/                  # æ‰€æœ‰æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ ğŸ“ scripts/                # å·¥å…·è„šæœ¬
â”œâ”€â”€ ğŸ“ env/                    # Pythonè™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ ğŸ“„ README.md               # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ requirements.txt        # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ğŸ“„ .env.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ VERSION                 # ç‰ˆæœ¬å·
â””â”€â”€ ğŸ“„ CHANGELOG.md           # æ›´æ–°æ—¥å¿—
```

## ğŸ“‹ ç›®å½•èŒè´£è¯´æ˜

### ğŸ§ª tests/ - æµ‹è¯•ç›®å½•
**è§„åˆ™**: æ‰€æœ‰æµ‹è¯•ç›¸å…³çš„æ–‡ä»¶å¿…é¡»æ”¾åœ¨æ­¤ç›®å½•ä¸‹

#### å…è®¸çš„æ–‡ä»¶ç±»å‹ï¼š
- âœ… `test_*.py` - å•å…ƒæµ‹è¯•æ–‡ä»¶
- âœ… `*_test.py` - å¿«é€Ÿæµ‹è¯•è„šæœ¬
- âœ… `test_*_integration.py` - é›†æˆæµ‹è¯•
- âœ… `test_*_performance.py` - æ€§èƒ½æµ‹è¯•
- âœ… `check_*.py` - æ£€æŸ¥è„šæœ¬
- âœ… `debug_*.py` - è°ƒè¯•è„šæœ¬

#### å­ç›®å½•ç»„ç»‡ï¼š
```
tests/
â”œâ”€â”€ ğŸ“„ README.md                    # æµ‹è¯•è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ __init__.py                  # PythonåŒ…åˆå§‹åŒ–
â”œâ”€â”€ ğŸ“ integration/                 # é›†æˆæµ‹è¯•
â”œâ”€â”€ ğŸ“„ test_*.py                   # å•å…ƒæµ‹è¯•
â”œâ”€â”€ ğŸ“„ *_test.py                   # å¿«é€Ÿæµ‹è¯•
â””â”€â”€ ğŸ“„ test_*_performance.py       # æ€§èƒ½æµ‹è¯•
```

#### ç¤ºä¾‹æ–‡ä»¶ï¼š
- `test_analysis.py` - åˆ†æåŠŸèƒ½å•å…ƒæµ‹è¯•
- `fast_tdx_test.py` - Tushareæ•°æ®æ¥å£å¿«é€Ÿæµ‹è¯•
- `test_tdx_integration.py` - Tushareæ•°æ®æ¥å£é›†æˆæµ‹è¯•
- `test_redis_performance.py` - Redisæ€§èƒ½æµ‹è¯•

### ğŸ”§ scripts/ - å·¥å…·è„šæœ¬ç›®å½•
**è§„åˆ™**: ä»…æ”¾ç½®éæµ‹è¯•çš„å·¥å…·è„šæœ¬

#### å…è®¸çš„æ–‡ä»¶ç±»å‹ï¼š
- âœ… `release_*.py` - å‘å¸ƒè„šæœ¬
- âœ… `setup_*.py` - å®‰è£…é…ç½®è„šæœ¬
- âœ… `deploy_*.py` - éƒ¨ç½²è„šæœ¬
- âœ… `migrate_*.py` - æ•°æ®è¿ç§»è„šæœ¬
- âœ… `backup_*.py` - å¤‡ä»½è„šæœ¬

#### ä¸å…è®¸çš„æ–‡ä»¶ï¼š
- âŒ `test_*.py` - æµ‹è¯•æ–‡ä»¶åº”æ”¾åœ¨tests/
- âŒ `*_test.py` - æµ‹è¯•è„šæœ¬åº”æ”¾åœ¨tests/
- âŒ `check_*.py` - æ£€æŸ¥è„šæœ¬åº”æ”¾åœ¨tests/

### ğŸ“š docs/ - æ–‡æ¡£ç›®å½•
**è§„åˆ™**: æ‰€æœ‰é¡¹ç›®æ–‡æ¡£æŒ‰ç±»å‹ç»„ç»‡

#### ç›®å½•ç»“æ„ï¼š
```
docs/
â”œâ”€â”€ ğŸ“ guides/                     # ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ ğŸ“ development/                # å¼€å‘æ–‡æ¡£
â”œâ”€â”€ ğŸ“ data/                       # æ•°æ®æºæ–‡æ¡£
â”œâ”€â”€ ğŸ“ api/                        # APIæ–‡æ¡£
â””â”€â”€ ğŸ“ localization/               # æœ¬åœŸåŒ–æ–‡æ¡£
```

### ğŸŒ web/ - Webç•Œé¢ç›®å½•
**è§„åˆ™**: Webç›¸å…³ä»£ç ç»Ÿä¸€ç®¡ç†

#### ç›®å½•ç»“æ„ï¼š
```
web/
â”œâ”€â”€ ğŸ“„ app.py                      # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ ğŸ“ components/                 # UIç»„ä»¶
â”œâ”€â”€ ğŸ“ utils/                      # Webå·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸ“ static/                     # é™æ€èµ„æº
â””â”€â”€ ğŸ“ templates/                  # æ¨¡æ¿æ–‡ä»¶
```

### ğŸ§  tradingagents/ - æ ¸å¿ƒä»£ç åŒ…
**è§„åˆ™**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä»£ç 

#### ç›®å½•ç»“æ„ï¼š
```
tradingagents/
â”œâ”€â”€ ğŸ“ agents/                     # æ™ºèƒ½ä½“ä»£ç 
â”œâ”€â”€ ğŸ“ dataflows/                  # æ•°æ®æµå¤„ç†
â”œâ”€â”€ ğŸ“ tools/                      # å·¥å…·å‡½æ•°
â””â”€â”€ ğŸ“ utils/                      # é€šç”¨å·¥å…·
```

## ğŸš« ç¦æ­¢çš„æ–‡ä»¶ä½ç½®

### æ ¹ç›®å½•ç¦æ­¢é¡¹ï¼š
- âŒ `test_*.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ `*_test.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ `debug_*.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ `check_*.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ ä¸´æ—¶æ–‡ä»¶å’Œè°ƒè¯•æ–‡ä»¶
- âŒ IDEé…ç½®æ–‡ä»¶ï¼ˆåº”åœ¨.gitignoreä¸­ï¼‰

### scripts/ç›®å½•ç¦æ­¢é¡¹ï¼š
- âŒ ä»»ä½•æµ‹è¯•ç›¸å…³æ–‡ä»¶
- âŒ è°ƒè¯•è„šæœ¬
- âŒ æ£€æŸ¥è„šæœ¬

## âœ… æ–‡ä»¶å‘½åè§„èŒƒ

### æµ‹è¯•æ–‡ä»¶å‘½åï¼š
- **å•å…ƒæµ‹è¯•**: `test_<module_name>.py`
- **é›†æˆæµ‹è¯•**: `test_<feature>_integration.py`
- **æ€§èƒ½æµ‹è¯•**: `test_<component>_performance.py`
- **å¿«é€Ÿæµ‹è¯•**: `<component>_test.py`
- **æ£€æŸ¥è„šæœ¬**: `check_<feature>.py`
- **è°ƒè¯•è„šæœ¬**: `debug_<issue>.py`

### å·¥å…·è„šæœ¬å‘½åï¼š
- **å‘å¸ƒè„šæœ¬**: `release_v<version>.py`
- **å®‰è£…è„šæœ¬**: `setup_<component>.py`
- **éƒ¨ç½²è„šæœ¬**: `deploy_<environment>.py`

### æ–‡æ¡£æ–‡ä»¶å‘½åï¼š
- **ä½¿ç”¨æŒ‡å—**: `<feature>-guide.md`
- **æŠ€æœ¯æ–‡æ¡£**: `<component>-integration.md`
- **APIæ–‡æ¡£**: `<api>-api.md`

## ğŸ” é¡¹ç›®ç»“æ„æ£€æŸ¥

### è‡ªåŠ¨æ£€æŸ¥è„šæœ¬
åˆ›å»º `tests/check_project_structure.py` æ¥éªŒè¯é¡¹ç›®ç»“æ„ï¼š

```python
def check_no_tests_in_root():
    """æ£€æŸ¥æ ¹ç›®å½•æ²¡æœ‰æµ‹è¯•æ–‡ä»¶"""
    
def check_no_tests_in_scripts():
    """æ£€æŸ¥scriptsç›®å½•æ²¡æœ‰æµ‹è¯•æ–‡ä»¶"""
    
def check_all_tests_in_tests_dir():
    """æ£€æŸ¥æ‰€æœ‰æµ‹è¯•æ–‡ä»¶éƒ½åœ¨testsç›®å½•"""
```

### æ‰‹åŠ¨æ£€æŸ¥æ¸…å•
å‘å¸ƒå‰æ£€æŸ¥ï¼š
- [ ] æ ¹ç›®å½•æ²¡æœ‰test_*.pyæ–‡ä»¶
- [ ] æ ¹ç›®å½•æ²¡æœ‰*_test.pyæ–‡ä»¶
- [ ] scripts/ç›®å½•æ²¡æœ‰æµ‹è¯•æ–‡ä»¶
- [ ] æ‰€æœ‰æµ‹è¯•æ–‡ä»¶éƒ½åœ¨tests/ç›®å½•
- [ ] tests/README.mdå·²æ›´æ–°
- [ ] æ–‡æ¡£ä¸­çš„è·¯å¾„å¼•ç”¨æ­£ç¡®

## ğŸ“ æœ€ä½³å®è·µ

### 1. æ–°å¢æµ‹è¯•æ–‡ä»¶
```bash
# âœ… æ­£ç¡®ï¼šåœ¨testsç›®å½•åˆ›å»º
touch tests/test_new_feature.py

# âŒ é”™è¯¯ï¼šåœ¨æ ¹ç›®å½•åˆ›å»º
touch test_new_feature.py
```

### 2. è¿è¡Œæµ‹è¯•
```bash
# âœ… æ­£ç¡®ï¼šæŒ‡å®štestsç›®å½•
python tests/fast_tdx_test.py
python -m pytest tests/

# âŒ é”™è¯¯ï¼šä»æ ¹ç›®å½•è¿è¡Œ
python fast_tdx_test.py
```

### 3. æ–‡æ¡£å¼•ç”¨
```markdown
<!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨å®Œæ•´è·¯å¾„ -->
è¿è¡Œæµ‹è¯•ï¼š`python tests/fast_tdx_test.py`

<!-- âŒ é”™è¯¯ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„ -->
è¿è¡Œæµ‹è¯•ï¼š`python fast_tdx_test.py`
```

## ğŸ”§ è¿ç§»ç°æœ‰æ–‡ä»¶

å¦‚æœå‘ç°æ–‡ä»¶ä½ç½®ä¸ç¬¦åˆè§„èŒƒï¼š

### ç§»åŠ¨æµ‹è¯•æ–‡ä»¶åˆ°testsç›®å½•ï¼š
```bash
# Windows
move test_*.py tests\
move *_test.py tests\

# Linux/macOS
mv test_*.py tests/
mv *_test.py tests/
```

### æ›´æ–°å¼•ç”¨ï¼š
1. æ›´æ–°æ–‡æ¡£ä¸­çš„è·¯å¾„å¼•ç”¨
2. æ›´æ–°è„šæœ¬ä¸­çš„importè·¯å¾„
3. æ›´æ–°CI/CDé…ç½®ä¸­çš„æµ‹è¯•è·¯å¾„

## ğŸ¯ éµå¾ªè§„èŒƒçš„å¥½å¤„

1. **æ¸…æ™°çš„é¡¹ç›®ç»“æ„** - æ–°å¼€å‘è€…å®¹æ˜“ç†è§£
2. **ä¾¿äºç»´æŠ¤** - æ–‡ä»¶ä½ç½®å¯é¢„æµ‹
3. **è‡ªåŠ¨åŒ–å‹å¥½** - CI/CDè„šæœ¬æ›´ç®€å•
4. **é¿å…æ··ä¹±** - æµ‹è¯•å’Œä¸šåŠ¡ä»£ç åˆ†ç¦»
5. **ä¸“ä¸šå½¢è±¡** - ç¬¦åˆå¼€æºé¡¹ç›®æ ‡å‡†

---

**è¯·ä¸¥æ ¼éµå¾ªæ­¤é¡¹ç›®ç»“æ„è§„èŒƒï¼Œç¡®ä¿ä»£ç åº“çš„æ•´æ´å’Œä¸“ä¸šæ€§ï¼** ğŸ“âœ¨
